<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bolen & Es Teler â€” Home</title>
  <meta name="description" content="Bolen & Es Teler - toko online modern, pesan lewat WhatsApp" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header container">
    <div class="brand">
      <button id="logoBtn" class="logo" aria-label="Buka beranda">Bolen & Es Teler</button>
    </div>
    <div class="top-controls">
      <a href="products.html" class="nav-link">Produk</a>
      <button id="cartToggle" class="icon-btn" aria-label="Keranjang">ðŸ›’ <span id="topCartCount">0</span></button>
      <button id="menuToggle" class="icon-btn" aria-label="Menu">â‹¯</button>
    </div>
  </header>

  <nav id="mainMenu" class="menu container" aria-hidden="true">
    <a href="index.html">Beranda</a>
    <a href="products.html">Semua Produk</a>
    <a href="about.html">Tentang</a>
    <a href="contact.html">Kontak</a>
  </nav>

  <main class="container">
    <section class="hero">
      <div class="hero-left">
        <h1>Bolen & Es Teler â€” Segar & Kekinian</h1>
        <p class="lead">Bolen renyah, isi melimpah. Es Teler legit hanya Rp 10.000. Pesan cepat lewat WhatsApp.</p>
        <div class="hero-cta">
          <a class="btn primary" href="products.html">Lihat Produk</a>
          <a class="btn ghost" id="heroOrder" href="#">Pesan Es Teler</a>
        </div>
        <ul class="features">
          <li>ðŸšš Pengantaran cepat</li>
          <li>ðŸŒ¿ Bahan pilihan</li>
          <li>ðŸ’¬ Pesan via WhatsApp</li>
        </ul>
      </div>
      <div class="hero-right" aria-hidden="true">
        <div class="showcase" id="featuredList">
          <!-- rendered by JS -->
        </div>
      </div>
    </section>

    <section class="section">
      <h2>Rekomendasi</h2>
      <div id="recoGrid" class="grid">
        <!-- rendered -->
      </div>
    </section>

    <section class="section">
      <h2>Cara Pesan</h2>
      <ol>
        <li>Pilih produk atau varian.</li>
        <li>Klik "Beli" untuk WA cepat atau "Tambah" untuk keranjang.</li>
        <li>Checkout untuk kirim ringkasan pesanan lewat WhatsApp.</li>
      </ol>
    </section>
  </main>

  <footer class="site-footer container">
    <small>&copy; <span id="year"></span> Bolen & Es Teler</small>
  </footer>

  <div id="miniCart" class="mini-cart" aria-hidden="true">
    <div class="mini-cart-header">
      <strong>Keranjang</strong>
      <button id="miniCartClose" class="icon-btn">âœ•</button>
    </div>
    <div id="miniCartItems" class="mini-cart-items"></div>
    <div class="mini-cart-footer">
      <div>Total: <strong id="miniCartTotal">Rp 0</strong></div>
      <div class="mini-cart-actions">
        <a id="goCart" href="cart.html" class="btn primary">Lihat Keranjang</a>
        <button id="checkoutQuick" class="btn ghost">Checkout WA</button>
      </div>
    </div>
  </div>

  <script src="common.js"></script>
  <script>
    // page-specific init
    document.addEventListener('DOMContentLoaded', async () => {
      await initCommon(); // from common.js
      const featured = await fetchProducts();
      const top = featured.slice(0,4);
      const grid = document.getElementById('recoGrid');
      top.forEach(p => grid.appendChild(cardDOM(p)));
      // hero small showcase
      const fdiv = document.getElementById('featuredList');
      top.forEach(p => {
        const el = document.createElement('div');
        el.className = 'showcase-card';
        el.innerHTML = `<div class="emoji">${p.emoji}</div><div class="info"><b>${p.name}</b><div class="price">${formatRp(p.price)}</div></div>`;
        fdiv.appendChild(el);
      });

      // hero quick order es-teler
      document.getElementById('heroOrder').addEventListener('click', (e) => {
        e.preventDefault();
        const p = featured.find(x => x.id === 'es-teler') || featured[0];
        buyNow(p, null, 1);
      });
    });
  </script>
</body>
</html>
